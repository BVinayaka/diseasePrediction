<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disease Prediction</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        /* Optional custom styles */

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #ffffff;
        }

        h1,
        h3 {
            text-align: center;
        }

        #container {
            width: 90%;
            margin: 20px auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            text-align: center;
            text-indent: 30px;
            line-height: 1.6;
            font-size: large;
        }

        .contact-container {
            height: 100%;
        }

        #backgroundContainer {
          position: relative;
          width: 100%;
          height: 100vh;
          overflow: hidden;
        }
      
        #backgroundImg {
          width: 100%;
          height: 100%;
          object-fit: cover;
          position: absolute;
          top: 0;
          left: 0;
          z-index: 1;
        }
      
        #overlayText {
          position: relative;
          z-index: 2;
          color: white;
          padding: 20px;
          text-align: left;
          margin-top: 150px; 
        }
      
        .glassmorphism {
          background: rgba(255, 255, 255, 0.2); 
          backdrop-filter: blur(10px);
          -webkit-backdrop-filter: blur(10px);
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          border-radius: 10px;
        }
      
        @media (max-width: 768px) {
          #overlayText {
            padding: 10px;
            text-align: center;
          }
      
          .navbar-nav {
            flex-direction: column;
          }
      
          .nav-item {
            margin-bottom: 10px;
          }
        }


        #selectedSymptoms,
        #symptomList {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            background-color: #c7c4c4;
        }

        .symptom-item {
            cursor: pointer;
            margin: 5px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            display: inline-block;
            transition: background-color 0.3s;
        }

        .symptom-item:hover {
            background-color: #f0f0f0;
        }

        #selectedSymptoms .symptom-item {
            background-color: #b2ebf2;
            border-color: #00796b;
        }

        #predictButton {
            padding: 10px 20px;
            background-color: #00796b;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 20px;
        }

        #predictButton:hover {
            background-color: #004d40;
        }

        #result {
            margin-top: 20px;
            font-size: 1.2em;
            color: #00796b;
        }

        #navbarNav {
          text-align: left;
      }
      #navbarNav .nav-item {
          display: inline-block;
          margin: 0 10px;
      }

        footer {
            width: 100%;
            background-color: #dcd5d5;
            color: rgb(22, 21, 21);
            text-align: center;
            padding: 1rem 0;
            position: relative;
            bottom: 0;
        }

        .card {
            margin: 20px 0;
        }

        .card-img-top {
            width: 100%;
            height: auto;
        }

        .card-body {
            text-align: center;
        }
        #chatbotContainer {
  position: fixed;
  bottom: 30px;
  right: 7%;
  width: 520px;
  max-width: 92%;
  height: 420px;
  background-color: #f9f9f9;
  border: 2px solid #4a90e2;
  border-radius: 25px;
  overflow: hidden;
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
  display: none;
  scroll-behavior: auto;
  z-index: 10;
}

@media (max-width: 992px) {
  #chatbotContainer {
    right: 10%;
    width: 85%;
  }

  .strategy-box {
    flex: 1 1 47%;
  }
}

@media (max-width: 768px) {
  #chatbotContainer {
    right: 5%;
    width: 92%;
  }

  .strategy-box {
    flex: 1 1 100%;
  }
}

#chatbotHeader {
  background-color: #4a90e2;
  color: #fff;
  padding: 18px;
  border-top-left-radius: 25px;
  border-top-right-radius: 25px;
  cursor: pointer;
  font-weight: bold;
  font-size: 1.2em;
  text-align: center;
}

#chatbotMessages {
  display: flex;
  flex-direction: column; /* Stack messages vertically */
  align-items: flex-start;
  max-height: 400px; /* Set a max height to enable scrolling */
  overflow-y: auto;/* Align messages to the start (left) */
  gap: 10px; /* Spacing between messages */
  font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
}

.chat-bubble {
  display: inline-block;
  max-width: 85%;
  padding: 14px;
  border-radius: 20px;
  margin-bottom: 12px;
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.12);
}

.receiver {
  background-color: #e1f5fe;
  text-align: left;
}
.message {
  width: fit-content; /* Adjust width based on content */
  margin-bottom: 10px; /* Spacing between messages */
  padding: 8px 12px; /* Padding inside each message */
}
.sender {
  background-color: #fce4ec;
  text-align: right;
  color: #d81b60;
}

.chat-bubble p {
  display: inline-block;
  padding: 12px;
  border-radius: 20px;
  margin: 6px 14px;
  max-width: 75%;
  color: #555;
  font-size: 1.4em;
}

#openChatbot {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background-color: #4a90e2;
  border: none;
  cursor: pointer;
  transition: transform 0.3s, opacity 0.3s;
  z-index: 9999;
  border-radius: 50%;
  padding: 12px;
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.12);
}

#openChatbot img {
  width: 36px;
  height: auto;
  border-radius: 50%;
}

#openChatbot:hover {
  transform: scale(1.05);
}

.stocklist {
  margin-top: 30px;
  list-style-type: none;
  padding: 0;
  color: #d81b60;
}

.stocklist li {
  background-color: #fff;
  border: 1px solid #e0e0e0;
  border-radius: 5px;
  margin-bottom: 10px;
  padding: 10px 15px;
  font-size: 1.4em;
  color: #333;
  display: flex;
  justify-content: space-between;
  transition: background-color 0.3s;
}

.stocklist li:hover {
  background-color: #f9f9f9;
}

.stocklist li span {
  font-weight: bold;
}

.strategy-box a {
  color: #4a90e2;
  text-decoration: none;
  transition: color 0.3s;
}

.strategy-box a:hover {
  color: #1854a3;
}

#chatbotHeader:hover {
  background-color: #1d6fa5;
}

#openChatbot {
  background-color: #1854a3;
}

#openChatbot:hover {
  background-color: #1d6fa5;
}


#welcomeContainer {
  border: 1px solid #ccc;
  padding: 20px;
  margin-top: 20px;
  border-radius: 5px;
  background-color: #f9f9f9;
  text-align: center;
}

.main-page-button {
  margin: 10px;
  padding: 10px 20px;
  background-color: #007bff;
  color: #fff;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.main-page-button:hover {
  background-color: #0056b3;
}
#technicalGraph {
  display: none;
}
#chatbotContainer {
  max-width: 600px;
  margin: 20px auto;
  border: 1px solid #ccc;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  z-index: 10;
}

/* Chatbot Header */
#chatbotHeader {
  background-color: #007bff;
  color: #fff;
  padding: 10px;
  text-align: center;
  font-weight: bold;
}

/* Chatbot Messages */
#chatbotMessages {
  padding: 10px;
  max-height: 300px;
  overflow-y: auto;
}

/* User Input Container */
#userInputContainer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px;
  background-color: #f9f9f9;
}

/* User Input Field */
#userInput {
  flex-grow: 1;
  padding: 8px;
  border-radius: 4px;
  border: 1px solid #ccc;
}

/* Send Button */
#sendMessage {
  margin-left: 10px;
  padding: 8px 15px;
  background-color: #007bff;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

#sendMessage:hover {
  background-color: #0056b3;
}

/* User Message */
.user-message {
  text-align: right;
  margin-bottom: 10px;
}

/* Bot Message */
.bot-message {
  text-align: left;
  margin-bottom: 10px;
}
#technicalGraphContainer {
  font-family: Arial, sans-serif;
  padding: 20px;
  border: 1px solid #ccc;
  border-radius: 8px;
  margin-top: 20px;
  background-color: #f5f5f5;
}

.plot-image {
  display: block;
  margin-bottom: 20px;
  border: 1px solid #ddd;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
}

th, td {
  border: 1px solid #ccc;
  padding: 8px;
  text-align: left;
}

th {
  background-color: #f2f2f2;
}
 /* Existing styles remain the same */

 .plot-image {
  cursor: pointer; /* Add cursor pointer to indicate clickability */
}

.expanded-image {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.9);
  overflow: auto;
}

.expanded-image img {
  display: block;
  margin: auto;
  max-width: 90%;
  max-height: 90%;
  margin-top: 50px; /* Space from the top */
}
#showMachine {
  margin-top: 20px;
}

.welcome-message {
  font-size: 24px;
  margin-bottom: 20px;
}


tr:nth-child(even) {
  background-color: #f2f2f2;
}

.preview-image {
  max-width: 100%;
  height: auto;
  border: 1px solid #ccc;
  padding: 5px;
  cursor: pointer; /* Add pointer cursor for clickable effect */
}

.large-image {
  display: none; /* Initially hide the large image */
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.9);
  z-index: 2;
}

.large-image img {
  max-width: 90%;
  max-height: 90%;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}
.search-bar-container {
  display: flex;
  align-items: center;
  border-radius: 4px;
  padding: 5px;
  width:20%;
  margin-left: 78%;
  background-color: white;

}

.search-bar-input {
  flex: 1;
  border: none;
  padding: 5px;
  margin-left: 5px;
  outline: none;
}

.fas.fa-search {
  color: #3e1cae;
  margin-right: 10px;
  background-color: white;

}
#userInputContainer{
  position: absolute;
    bottom: 0;
    width: 100%;
    color: red;
}
#closeChatbot {
  position: absolute;
  top: 10px;
  right: 10px;
  background: none;
  border: none;
  font-size: 1.5em;
  cursor: pointer;
}
/* For screens smaller than 992px */
@media (max-width: 992px) {
  .strategy-box {
    flex: 1 1 47%;
  }

  .search-bar-container {
    margin-left: 10%;
    width: 60%;
  }
}

/* For screens smaller than 768px */
@media (max-width: 768px) {
  #chatbotContainer {
    right: 5%;
    width: 92%;
  }

  .strategy-box {
    flex: 1 1 100%;
  }

  .search-bar-container {
    margin-left: 5%;
    width: 70%;
  }
}

/* For screens smaller than 576px */
@media (max-width: 576px) {
  .strategy-box {
    margin: 10px;
    padding: 15px;
    font-size: 1.2em;
  }

  .search-bar-container {
    margin-left: 2%;
    width: 80%;
  }

  #chatbotContainer {
    bottom: 10px;
    right: 5%;
    width: 90%;
    max-width: 95%;
  }
}
.banner-container {
    overflow: hidden;
    position: relative;
    background-color: #f0f0f0;
}
.banner {
    white-space: nowrap;
    position: absolute;
    animation: scrollLeft 30s linear infinite;
}
@keyframes scrollLeft {
    0% { left: 100%; }
    100% { left: -100%; }
}
.stock-item {
    display: inline-block;
    padding: 10px 20px;
    margin-right: 20px;
    background-color: #333;
    color: #fff;
    font-family: Arial, sans-serif;
    font-size: 18px;
}
/* Style for the input field */
#searchInput {
  width: 300px; /* Adjust width as needed */
  padding: 10px; /* Add padding for better visual appearance */
  font-size: 16px; /* Adjust font size */
  border: 1px solid #ccc; /* Add a border */
  border-radius: 5px; /* Add border radius for rounded corners */
  margin-left: 75%;
}

/* Style for the placeholder text */
#searchInput::placeholder {
  color: #999; /* Change the color of the placeholder text */
}


#searchInput:focus {
  outline: none;
  border-color: #66afe9;
  box-shadow: 0 0 5px #66afe9;
}

.social-icons {
  list-style-type: none;
  padding: 0;
  display: flex;
  justify-content: left;
}
.social-icons li {
  margin: 0 10px;
}
.social-icons li a {
  font-size: 2rem;
}

.service-card {
  color: white;
  padding: 30px;
  border-radius: 10px;
  border: none;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}
.service-icon {
  font-size: 3rem;
  margin-bottom: 10px;
  text-align: center;
}
.card-body {
  text-align: center;
}

.rounded-tl-br {
  border-top-left-radius: 10px;
  border-bottom-right-radius: 10px;
}






    </style>
</head>

<body>  

  <!--Hero Section-->
  <div id="backgroundContainer">
   
    <nav class="navbar navbar-expand-lg navbar-light bg-transparent fixed-top glassmorphism">
      <div class="container-fluid">
       
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
  
      
        <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link text-white fw-bold" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-white fw-bold" href="#about">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-white fw-bold" href="#services">Services</a>
            </li>
            {% if 'user' in session %}
            <li class="nav-item">
              <a class="nav-link text-white fw-bold" href="#" onclick="confirmLogout()">LOGOUT</a>
            </li>
            {% else %}
            <li class="nav-item">
              <a class="nav-link text-white fw-bold" href="/login">LOGIN</a>
            </li>
            {% endif %}
          </ul>
        </div>
      </div>
    </nav>
  
    
    <img id="backgroundImg" src="./static/doctor-examines.jpg" alt="Background Image">
    <div id="overlayText" class="col-md-6 offset-md-0">
      <p class="fw-bolder fs-1">Find The Good Life<br>With <span class="text-info">Good Health</span></p>
      <p class="text-white fw-bold">Empower your health with our advanced disease prediction tool. Utilizing cutting-edge machine learning algorithms, our platform analyzes your symptoms to provide accurate and timely predictions, helping you take proactive steps towards better health. Trust in technology to guide your wellness journey.</p>
      <a href="#services" class="btn btn-outline-light w-50">Get Started <i class="bi bi-chevron-down"></i></a>
    </div>
  </div>


<!--Chatbot-->




    <div id="chatbotContainer">
        <div id="chatbotHeader">
            Chatbot
            <button id="closeChatbot" onclick="closeChatbot()">×</button>
        </div>
        <div id="chatbotMessages">
            <!-- Messages will be displayed here -->
        </div>
        <!-- User input field and send button -->
        <div id="userInputContainer">
            <input type="text" id="userInput" placeholder="Type your message..." onkeydown="if(event.keyCode===13) sendMessage()">
            <button id="sendMessage" onclick="sendMessage()">Send</button>
        </div>
    </div>

    <!-- Chatbot Icon Button -->
    <button id="openChatbot" onclick="toggleChatbot()">
        <img src="./static/download.png" alt="Chatbot Icon" />
    </button>



    <!--Service Section-->
    <div class="container mt-5">
      <div class="row">

          <div class="col-md-4 mt-5">
              <div class="text-left">
                  <h2 class="text-capitalize text-dark fs-1 fw-bold mb-4">We take care<br> of your<br><span class="text-info" >Good health</span></h2>
                  <p class="fw-medium mb-4">Empower your health with our advanced disease prediction tool. Utilizing cutting-edge machine learning algorithms, our platform analyzes your symptoms to provide accurate and timely predictions.</p>

                  <ul class="social-icons">
                      <li><a href="#"><i class="fab fa-facebook text-info"></i></a></li>
                      <li><a href="#"><i class="fab fa-twitter text-info"></i></a></li>
                      <li><a href="#"><i class="fab fa-instagram text-info"></i></a></li>
                  </ul>
              </div>
          </div>


          <div class="col-md-8" id="services">
              <div class="row row-cols-1 row-cols-md-3 g-4">
                  <div class="col">
                      <div class="card service-card rounded-tl-br bg-info">
                          <div class="service-icon">
                              <i class="fa-solid fa-mask-face"></i>
                          </div>
                          <div class="card-body">
                              <h5 class="card-title text-uppercase fw-semibold">Disease Prediction</h5>
                              <p class="card-text text-capitalize fw-medium">Predict diseases based on your symptoms and receive recommended treatments.</p>
                              <a href="/disease" class="btn btn-outline-light">Predict</a>
                          </div>
                      </div>
                  </div>
                  <div class="col">
                      <div class="card service-card rounded-tl-br bg-info">
                          <div class="service-icon">
                              <i class="fas fa-hospital"></i>
                          </div>
                          <div class="card-body">
                              <h5 class="card-title text-uppercase fw-semibold">Nearby Hospital</h5><br>
                              <p class="card-text text-capitalize fw-medium">Find nearby hospitals and healthcare facilities for immediate assistance.</p>
                              <a href="/hospital" class="btn btn-outline-light">Near By</a>
                          </div>
                      </div>
                  </div>
                  <div class="col">
                      <div class="card service-card rounded-tl-br bg-info">
                          <div class="service-icon">
                              <i class="fas fa-stethoscope"></i>
                          </div>
                          <div class="card-body">
                              <h5 class="card-title text-uppercase fw-semibold">Diabetes Predictor</h5>
                              <p class="card-text text-capitalize fw-medium">Predict your likelihood of diabetes based on symptoms and risk factors.</p>
                              <a href="/dia" class="btn btn-outline-light">Test</a>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>


    <!--About Us-->
    <section class="container-fluid py-5 about" id="about">
        <div class="container" id="container">
            <div class="text-center">
                <h2 class="text-capitalize text-info fs-1 fw-bold mb-4">About us</h2>
            </div>
            <div class="text-wrap">
                <p>Welcome to our Disease Prediction System, designed to help users predict possible diseases based on selected symptoms. Our system uses advanced machine learning algorithms to analyze symptom data and provide accurate predictions.</p>

                <p>At our core, we aim to revolutionize healthcare by providing accessible and reliable tools for early disease detection. Our team of experts in machine learning, healthcare, and technology is dedicated to improving health outcomes through innovative solutions.</p>

                <p>Explore our system to discover how we can assist you in understanding your health better and taking proactive measures towards wellness.</p>
            </div>
        </div>
    </section>
    <footer class="mt-4">
        <p>© 2024 Disease Prediction System. All rights reserved.</p>
    </footer>

    <script>
        clearButton.onclick = () => {
            while (selectedSymptoms.firstChild) {
                selectedSymptoms.removeChild(selectedSymptoms.firstChild);
            }
        };
        function confirmLogout() {
        if (confirm("Are you sure you want to logout?")) {
            window.location.href = "/logout";
        }
    }

    function sendMessage() {
        const userInput = document.getElementById("userInput").value;

        if (userInput.trim() !== "") {
          displayMessage("user", userInput);

          // Prepare payload
          const payload = {
            text1: "stocks",
            text2: "stocks",
            question: userInput,
          };

          // Send POST request to the server
          fetch("/chat", {
            // Assuming your Python server is listening on '/chat'
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(payload),
          })
            .then((response) => response.json())
            .then((data) => {
              const answer = data.answer; // Assuming the response JSON has an 'answer' field
              displayMessage("bot", answer);
            })
            .catch((error) => {
              console.error("Error:", error);
              displayMessage("bot", "Sorry, something went wrong.");
            });

          // Clear the user input
          document.getElementById("userInput").value = "";
        }
      }
      function displayMessage(sender, message) {
        const messageContainer = document.getElementById("chatbotMessages");

        const messageElement = document.createElement("div");
        messageElement.innerText = message;
        messageElement.classList.add("message", sender);

        if (sender === "user") {
          messageElement.style.textAlign = "right"; // Align bot messages to the right
          messageElement.style.backgroundColor = "#e6e6e6"; // Light blue background for bot messages
          messageElement.style.borderRadius = "5px"; // Rounded corners
          messageElement.style.marginLeft = "auto"; // Push bot messages to the right
          messageElement.style.maxWidth = "70%"; // Limit width for bot messages
          messageElement.style.textAlign = "left";
        } else {
          messageElement.style.textAlign = "left"; // Align user messages to the left
          messageElement.style.backgroundColor = "#f0f0f0"; // Light gray background for user messages
          messageElement.style.borderRadius = "5px"; // Rounded corners
          messageElement.style.marginRight = "auto"; // Push user messages to the left
          messageElement.style.maxWidth = "70%";
          messageElement.style.textAlign = "left"; // Limit width for user messages
        }

        messageContainer.appendChild(messageElement);
        messageContainer.scrollTop = messageContainer.scrollHeight;
      }
      function closeChatbot() {
        const chatbotContainer = document.getElementById("chatbotContainer");
        chatbotContainer.style.display = "none"; // Hide the chatbot container
      }

    function toggleChatbot() {
    const chatbotContainer = document.getElementById("chatbotContainer");
    chatbotContainer.style.display = chatbotContainer.style.display === "none" ? "block" : "none";
}
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
