<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disease Prediction</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #ffffff;
        }

        h1,
        h3 {
            text-align: center;
        }

        #container {
            width: 90%;
            margin: 20px auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            text-align: center;
            text-indent: 30px;
            line-height: 1.6;
            font-size: large;
        }

        .contact-container {
            height: 100%;
        }

        #backgroundContainer {
            position: relative;
            width: 100%;
            height: 735px;
            overflow: hidden;
        }

        #backgroundImg {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        #overlayText {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: #fff;
            width: 100%;
        }

        #overlayText h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: rgb(157, 30, 30);
        }

        #overlayText p {
            font-size: 1.2em;
            color: rgb(13, 12, 12);
        }

        #selectedSymptoms,
        #symptomList {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            background-color: #c7c4c4;
        }

        .symptom-item {
            cursor: pointer;
            margin: 5px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            display: inline-block;
            transition: background-color 0.3s;
        }

        .symptom-item:hover {
            background-color: #f0f0f0;
        }

        #selectedSymptoms .symptom-item {
            background-color: #b2ebf2;
            border-color: #00796b;
        }

        #predictButton {
            padding: 10px 20px;
            background-color: #00796b;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 20px;
        }

        #predictButton:hover {
            background-color: #004d40;
        }

        #result {
            margin-top: 20px;
            font-size: 1.2em;
            color: #00796b;
        }

        .navbar {
            background-color: transparent !important;
            margin-bottom: 0;
            position: absolute;
            width: 100%;
            top: 0;
            z-index: 100;
        }

        .navbar-brand {
            font-size: 1.5rem;
            font-weight: bold;
            color: #000 !important;
        }

        .navbar-nav .nav-item .nav-link {
            color: #000 !important;
        }

        footer {
            width: 100%;
            background-color: #dcd5d5;
            color: rgb(22, 21, 21);
            text-align: center;
            padding: 1rem 0;
            position: relative;
            bottom: 0;
        }

        .card {
            margin: 20px 0;
        }

        .card-img-top {
            width: 100%;
            height: auto;
        }

        .card-body {
            text-align: center;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light" id="nav">
        <div class="container-fluid">
            <a class="navbar-brand" href="#"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#services">Services</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact</a>
                    </li>
                    {% if 'user' in session %}
                    <li class="nav-item">
                      <a class="nav-link" onclick="confirmLogout()">LOGOUT</a>
                    </li>
                    {% else %}
                    <li class="nav-item">
                      <a class="nav-link" href="/login">LOGIN</a>
                    </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>

    <!-- Background Image with Overlay Text -->
    <div id="backgroundContainer">
        <img id="backgroundImg" src="./static/background.png" alt="Background Image">
        <div id="overlayText">
            <h1><b>Disease Prediction System</b></h1>
            <p>Enter symptoms below to predict possible diseases.</p>
            <a href="#services" class="btn btn-primary">Get Started <i class="bi bi-chevron-down"></i></a>
        </div>
    </div>

    
    <hr><hr>
    <div class="text-center" id="services">
        <h2 class="text-capitalize text-info fs-1 fw-bold mb-4">Our Services</h2>
    </div>
    <div class="row row-cols-1 row-cols-md-3 g-4 m-3">
        <div class="col-md-4">
            <div class="card">
                <a href="/disease" class="link">
                    <img src="./static/disease.avif" class="card-img-top" alt="Disease Prediction Image" style="width: 100%; height: auto;">
                </a>
                <div class="card-body">
                    <h5 class="card-title text-uppercase fw-semibold text-info">Disease Prediction</h5>
                    <p class="card-text text-capitalize fw-medium">Predict diseases based on your symptoms and receive recommended treatments.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                <a href="/hospital" class="link">
                    <img src="./static/disease.avif" class="card-img-top" alt="Nearby Hospital Image" style="width: 100%; height: auto;">
                </a>
                <div class="card-body">
                    <h5 class="card-title text-uppercase fw-semibold text-info">Nearby Hospital</h5>
                    <p class="card-text text-capitalize fw-medium">Find nearby hospitals and healthcare facilities for immediate assistance.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                <a href="/dia" class="link">
                    <img src="./static/disease.avif" class="card-img-top" alt="Nearby Hospital Image" style="width: 100%; height: auto;">
                </a>
                <div class="card-body">
                    <h5 class="card-title text-uppercase fw-semibold text-info">Diabetes Predictor</h5>
                    <p class="card-text text-capitalize fw-medium">Predict your likelihood of diabetes based on symptoms and risk factors.</p>
                </div>
            </div>
        </div>
    </div>
    
    <section class="container-fluid py-5 about" id="about">
        <div class="container" id="container">
            <div class="text-center">
                <h2 class="text-capitalize text-info fs-1 fw-bold mb-4">About us</h2>
            </div>
            <div class="text-wrap">
                <p>Welcome to our Disease Prediction System, designed to help users predict possible diseases based on selected symptoms. Our system uses advanced machine learning algorithms to analyze symptom data and provide accurate predictions.</p>

                <p>At our core, we aim to revolutionize healthcare by providing accessible and reliable tools for early disease detection. Our team of experts in machine learning, healthcare, and technology is dedicated to improving health outcomes through innovative solutions.</p>

                <p>Explore our system to discover how we can assist you in understanding your health better and taking proactive measures towards wellness.</p>
            </div>
        </div>
    </section>
    <footer class="mt-4">
        <p>Â© 2024 Disease Prediction System. All rights reserved.</p>
    </footer>

    <script>
        const symptoms = [
            'itching', 'skin_rash', 'nodal_skin_eruptions', 'continuous_sneezing', 'shivering', 'chills', 
            'joint_pain', 'stomach_pain', 'acidity', 'ulcers_on_tongue', 'muscle_wasting', 'vomiting', 
            'burning_micturition', 'spotting_urination', 'fatigue', 'weight_gain', 'anxiety', 
            'cold_hands_and_feets', 'mood_swings', 'weight_loss', 'restlessness', 'lethargy', 
            'patches_in_throat', 'irregular_sugar_level', 'cough', 'high_fever', 'sunken_eyes', 
            'breathlessness', 'sweating', 'dehydration', 'indigestion', 'headache', 'yellowish_skin', 
            'dark_urine', 'nausea', 'loss_of_appetite', 'pain_behind_the_eyes', 'back_pain', 
            'constipation', 'abdominal_pain', 'diarrhoea', 'mild_fever', 'yellow_urine', 'yellowing_of_eyes', 
            'acute_liver_failure', 'fluid_overload', 'swelling_of_stomach', 'swelled_lymph_nodes', 'malaise', 
            'blurred_and_distorted_vision', 'phlegm', 'throat_irritation', 'redness_of_eyes', 'sinus_pressure', 
            'runny_nose', 'congestion', 'chest_pain', 'weakness_in_limbs', 'fast_heart_rate', 
            'pain_during_bowel_movements', 'pain_in_anal_region', 'bloody_stool', 'irritation_in_anus', 
            'neck_pain', 'dizziness', 'cramps', 'bruising', 'obesity', 'swollen_legs', 'swollen_blood_vessels', 
            'puffy_face_and_eyes', 'enlarged_thyroid', 'brittle_nails', 'swollen_extremeties', 'excessive_hunger', 
            'extra_marital_contacts', 'drying_and_tingling_lips', 'slurred_speech', 'knee_pain', 'hip_joint_pain', 
            'muscle_weakness', 'stiff_neck', 'swelling_joints', 'movement_stiffness', 'spinning_movements', 
            'loss_of_balance', 'unsteadiness', 'weakness_of_one_body_side', 'loss_of_smell', 'bladder_discomfort', 
            'foul_smell_of_urine', 'continuous_feel_of_urine', 'passage_of_gases', 'internal_itching', 
            'toxic_look_(typhos)', 'depression', 'irritability', 'muscle_pain', 'altered_sensorium', 
            'red_spots_over_body', 'belly_pain', 'abnormal_menstruation', 'dischromic_patches', 'watering_from_eyes', 
            'increased_appetite', 'polyuria', 'family_history', 'mucoid_sputum', 'rusty_sputum', 'lack_of_concentration', 
            'visual_disturbances', 'receiving_blood_transfusion', 'receiving_unsterile_injections', 'coma', 
            'stomach_bleeding', 'distention_of_abdomen', 'history_of_alcohol_consumption', 'fluid_overload.1', 
            'blood_in_sputum', 'prominent_veins_on_calf', 'palpitations', 'painful_walking', 'pus_filled_pimples', 
            'blackheads', 'scurring', 'skin_peeling', 'silver_like_dusting', 'small_dents_in_nails', 'inflammatory_nails', 
            'blister', 'red_sore_around_nose', 'yellow_crust_ooze'
        ];

        const symptomList = document.getElementById('symptomList');
        const selectedSymptoms = document.getElementById('selectedSymptoms');
        const resultDiv = document.getElementById('result');
        const predictButton = document.getElementById('predictButton');
        const clearButton = document.getElementById('clearButton');

        symptoms.forEach(symptom => {
            const symptomItem = document.createElement('div');
            symptomItem.className = 'symptom-item';
            symptomItem.innerText = symptom;
            symptomItem.onclick = () => addSymptom(symptom);
            symptomList.appendChild(symptomItem);
        });

        function addSymptom(symptom) {
            const existingSymptom = Array.from(selectedSymptoms.children).find(child => child.innerText === symptom);
            if (!existingSymptom) {
                const symptomItem = document.createElement('div');
                symptomItem.className = 'symptom-item';
                symptomItem.innerText = symptom;
                symptomItem.onclick = () => removeSymptom(symptomItem);
                selectedSymptoms.appendChild(symptomItem);
            }
        }

        function removeSymptom(symptomItem) {
            selectedSymptoms.removeChild(symptomItem);
        }

        predictButton.onclick = async () => {
            const selected = Array.from(selectedSymptoms.children).map(child => child.innerText);

            if (selected.length === 0) {
                alert('Please select at least one symptom.');
                return;
            }

            const response = await fetch('/predict', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(selected)
            });

            if (response.ok) {
                const result = await response.json();
                resultDiv.innerText = `Predicted Disease: ${result.predicted_disease}`;
            } else {
                resultDiv.innerText = 'Error: Could not predict disease.';
            }
        };

        clearButton.onclick = () => {
            while (selectedSymptoms.firstChild) {
                selectedSymptoms.removeChild(selectedSymptoms.firstChild);
            }
        };
        function confirmLogout() {
        if (confirm("Are you sure you want to logout?")) {
            window.location.href = "/logout";
        }
    }
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
